================================================================================
                   ğŸ“Š DASHBOARD API - QUICK REFERENCE
================================================================================

BASE URL: http://localhost:3000/api/dashboard
AUTHENTICATION: JWT Token (Authorization: Bearer <token>)

================================================================================
                         ğŸ“‹ ALL 10 ENDPOINTS
================================================================================

1. GET /statistics
   â””â”€ Overview statistics (users, bookings, visitors, places)
   â””â”€ Access: Admin, Manager

2. GET /recent-activity?limit=20
   â””â”€ Recent system activities (bookings, check-ins, alerts)
   â””â”€ Access: Admin, Manager

3. GET /todays-schedule
   â””â”€ Today's bookings with status
   â””â”€ Access: All roles

4. GET /bookings-analytics?period=week
   â””â”€ Booking trends and analytics
   â””â”€ Access: Admin, Manager

5. GET /visitors-analytics?period=month
   â””â”€ Visitor statistics and trends
   â””â”€ Access: Admin, Manager

6. GET /places-utilization?date=2025-10-09
   â””â”€ Place usage and availability
   â””â”€ Access: All roles

7. GET /pass-statistics
   â””â”€ Pass management statistics
   â””â”€ Access: Admin, Manager, Reception

8. GET /alerts?severity=all
   â””â”€ System alerts and warnings
   â””â”€ Access: Admin, Manager

9. GET /performance
   â””â”€ System performance metrics
   â””â”€ Access: Admin only

10. GET /top-statistics?limit=10
    â””â”€ Top performers and rankings
    â””â”€ Access: Admin, Manager

================================================================================
                         ğŸ’» QUICK USAGE
================================================================================

const token = localStorage.getItem('authToken')
const API = 'http://localhost:3000/api/dashboard'

// Get statistics
const stats = await fetch(`${API}/statistics`, {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json())

// Get recent activity
const activity = await fetch(`${API}/recent-activity?limit=20`, {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json())

// Get today's schedule
const schedule = await fetch(`${API}/todays-schedule`, {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json())

// Get alerts
const alerts = await fetch(`${API}/alerts?severity=high`, {
  headers: { 'Authorization': `Bearer ${token}` }
}).then(r => r.json())

================================================================================
                         ğŸ“Š STATISTICS OVERVIEW
================================================================================

Returns:
  â”œâ”€ totalUsers (total registered users)
  â”œâ”€ activeUsers (logged in last 7 days)
  â”œâ”€ totalPlaces (all places)
  â”œâ”€ activePlaces (active places)
  â”œâ”€ todaysBookings (bookings today)
  â”œâ”€ ongoingBookings (currently happening)
  â”œâ”€ upcomingBookings (scheduled for later today)
  â”œâ”€ todaysVisitors (visitors today)
  â”œâ”€ checkedInVisitors (visitors with passes)
  â””â”€ expectedVisitors (not yet checked in)

Trends:
  â”œâ”€ usersGrowth (% change from last week)
  â”œâ”€ bookingsGrowth (% change)
  â”œâ”€ visitorsGrowth (% change)
  â””â”€ placesUtilization (% of places active)

================================================================================
                         ğŸ“ RECENT ACTIVITY TYPES
================================================================================

Activity Types:
  â”œâ”€ booking_created (new booking made)
  â”œâ”€ visitor_checkin (visitor checked in with pass)
  â”œâ”€ user_registered (new user account)
  â”œâ”€ capacity_alert (room capacity exceeded)
  â””â”€ pass_overdue (pass not returned on time)

Each Activity Has:
  â”œâ”€ id (unique identifier)
  â”œâ”€ type (activity type)
  â”œâ”€ title (short description)
  â”œâ”€ description (detailed info)
  â”œâ”€ user (who performed action)
  â”œâ”€ timestamp (when it happened)
  â”œâ”€ relativeTime ("5 min ago")
  â”œâ”€ urgent (true/false)
  â””â”€ metadata (additional data)

================================================================================
                         ğŸ“… TODAY'S SCHEDULE
================================================================================

Returns:
  â”œâ”€ schedule[] (array of today's bookings)
  â”‚   â”œâ”€ id, title, place_name
  â”‚   â”œâ”€ start_time, end_time
  â”‚   â”œâ”€ status (completed, ongoing, upcoming, cancelled)
  â”‚   â”œâ”€ responsible_person
  â”‚   â”œâ”€ participants_count
  â”‚   â”œâ”€ external_visitors_count
  â”‚   â”œâ”€ has_refreshments
  â”‚   â””â”€ color (status color)
  â””â”€ summary
      â”œâ”€ total, completed, ongoing
      â”œâ”€ upcoming, cancelled

================================================================================
                         ğŸ“ˆ BOOKINGS ANALYTICS
================================================================================

Query Parameters:
  â””â”€ period: 'today' | 'week' | 'month' | 'year'

Returns:
  â”œâ”€ summary (totals, averages, peaks)
  â”œâ”€ byStatus (breakdown by status)
  â”œâ”€ byPlace (bookings per place)
  â”œâ”€ byTimeSlot (bookings by hour)
  â””â”€ dailyTrend (daily booking counts)

================================================================================
                         ğŸ‘¥ VISITORS ANALYTICS
================================================================================

Query Parameters:
  â””â”€ period: 'week' | 'month' | 'year'

Returns:
  â”œâ”€ summary (total, unique, repeat, averages)
  â”œâ”€ byCompany (top visitor companies)
  â”œâ”€ byReferenceType (NIC, Passport, etc.)
  â”œâ”€ frequentVisitors (top 10 visitors)
  â””â”€ dailyTrend (daily visitor counts)

================================================================================
                         ğŸ¢ PLACES UTILIZATION
================================================================================

Query Parameters:
  â””â”€ date: 'YYYY-MM-DD' (default: today)

Returns:
  â”œâ”€ summary (totals, averages, most/least booked)
  â”œâ”€ places[] (each place with utilization)
  â”‚   â”œâ”€ place_id, place_name, capacity
  â”‚   â”œâ”€ todaysBookings, totalHoursBooked
  â”‚   â”œâ”€ utilizationRate (%)
  â”‚   â””â”€ currentStatus (occupied/available)
  â””â”€ utilizationByHour (hourly breakdown)

================================================================================
                         ğŸ« PASS STATISTICS
================================================================================

Returns:
  â”œâ”€ summary
  â”‚   â”œâ”€ totalPasses, assignedPasses, availablePasses
  â”‚   â”œâ”€ overduePasses
  â”‚   â”œâ”€ todaysAssignments, todaysReturns
  â”œâ”€ byType[] (breakdown by pass type)
  â”‚   â”œâ”€ pass_type_id, pass_type_name
  â”‚   â”œâ”€ total, assigned, available
  â”‚   â””â”€ utilization (%)
  â””â”€ recentAssignments[] (last 10 assignments)

================================================================================
                         âš ï¸ SYSTEM ALERTS
================================================================================

Query Parameters:
  â””â”€ severity: 'all' | 'high' | 'medium' | 'low'

Alert Types:
  â”œâ”€ capacity_exceeded (room over capacity)
  â”œâ”€ overdue_pass (pass not returned)
  â”œâ”€ blacklisted_visitor (scheduled visit)
  â””â”€ system_performance (performance issues)

Returns:
  â”œâ”€ alerts[] (list of alerts)
  â”‚   â”œâ”€ id, type, severity
  â”‚   â”œâ”€ title, message
  â”‚   â”œâ”€ timestamp, resolved
  â”‚   â””â”€ metadata (additional info)
  â””â”€ summary (counts by severity)

================================================================================
                         âš¡ PERFORMANCE METRICS
================================================================================

Returns:
  â”œâ”€ system
  â”‚   â”œâ”€ serverLoad (% CPU/memory)
  â”‚   â”œâ”€ databaseUsage (MB)
  â”‚   â”œâ”€ storageUsage (MB)
  â”‚   â”œâ”€ apiResponseTime (ms)
  â”‚   â”œâ”€ uptime (hours)
  â”‚   â””â”€ lastRestart (timestamp)
  â”œâ”€ database
  â”‚   â”œâ”€ totalRecords (per table)
  â”‚   â””â”€ recentGrowth (new records)
  â””â”€ api
      â”œâ”€ totalRequests (24h)
      â”œâ”€ successRate (%)
      â”œâ”€ averageResponseTime (ms)
      â”œâ”€ slowestEndpoint
      â””â”€ mostUsedEndpoint

================================================================================
                         ğŸ† TOP STATISTICS
================================================================================

Query Parameters:
  â””â”€ limit: number (default: 10)

Returns:
  â”œâ”€ topBookers[] (users with most bookings)
  â”œâ”€ topPlaces[] (most booked places)
  â”œâ”€ topVisitorCompanies[] (companies with most visits)
  â””â”€ mostActiveHours[] (busiest time slots)

================================================================================
                         ğŸ”„ AUTO-REFRESH INTERVALS
================================================================================

Recommended refresh rates:
  â”œâ”€ Statistics: 60 seconds
  â”œâ”€ Recent Activity: 30 seconds
  â”œâ”€ Today's Schedule: 60 seconds
  â”œâ”€ Alerts: 30 seconds
  â”œâ”€ Performance: 120 seconds
  â””â”€ Analytics: 300 seconds (5 minutes)

================================================================================
                         âœ… ALL APIS READY
================================================================================

âœ… 10 Dashboard APIs created
âœ… Real-time data from database
âœ… Role-based access control
âœ… Complete documentation
âœ… Frontend examples included
âœ… Production-ready

Server: http://localhost:3000
Base URL: http://localhost:3000/api/dashboard

================================================================================


